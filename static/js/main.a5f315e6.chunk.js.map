{"version":3,"sources":["components/Header/index.tsx","components/Selecter/index.tsx","app.config.ts","components/Detail/index.tsx","components/App/index.tsx","index.tsx"],"names":["Header","className","Selecter","props","useState","selectIdol","setSelectIdol","icons","idols","map","item","index","key","id","onClick","_","handleClick","src","name","alt","config","Detail","cardImgSrc","setCardImgSrc","preload","setPreload","useEffect","getCardImg","a","axios","get","res","imgUrl","data","resourceId","idol","then","img","Image","onload","type","toLowerCase","group","age","birth","blood","height","weight","bust","waist","hip","country","hobby","skill","favorite","cv","href","App","setIdol","setIcon","getIdolIcon","getIdolData","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a5f315e6.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./styles.scoped.scss\";\n\nfunction Header() {\n  return (\n    <div className=\"header\">\n      <span className=\"title\">Nao</span>\n    </div>\n  );\n}\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport \"./styles.scoped.scss\";\nimport { Idol } from \"../../models/idol\";\n\ninterface Props {\n  idols: Idol[];\n  icons: any;\n  selectIdol: (index: number) => void;\n}\n\nfunction Selecter(props: Props) {\n  const [selectIdol, setSelectIdol] = useState(-1);\n\n  const handleClick = (index: number) => {\n    setSelectIdol(index);\n    props.selectIdol(index);\n  };\n\n  return (\n    <div className=\"selecter\">\n      <ul>\n        {props.icons &&\n          props.idols.map((item, index) => (\n            <li\n              className={\"idol\" + (selectIdol === index ? \" selected\" : \"\")}\n              key={item.id}\n              onClick={(_) => handleClick(index)}\n            >\n              <img\n                src={`data:image/png;base64,${props.icons[item.name]}`}\n                alt=\"\"\n                className=\"icon\"\n              ></img>\n              <div className=\"name\">{item.name}</div>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Selecter;\n","export const config = {\n  matsurihimeCardApiUrl: \"https://api.matsurihi.me/mltd/v1/cards\",\n  matsurihimeCardSrcUrl: \"https://storage.matsurihi.me/mltd/card/\",\n};\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./styles.scoped.scss\";\nimport { config } from \"../../app.config\";\nimport { Idol } from \"../../models/idol\";\nimport { Card } from \"../../models/card\";\n\nfunction Detail(props: { idol: Idol | undefined }) {\n  const [cardImgSrc, setCardImgSrc] = useState(\"\");\n  const [preload, setPreload] = useState(false);\n\n  useEffect(() => {\n    setPreload(false);\n    const getCardImg = async (id: number) => {\n      const res = await axios.get<Card[]>(\n        `${config.matsurihimeCardApiUrl}?idolId=${id}`\n      );\n      const imgUrl = `${config.matsurihimeCardSrcUrl}${res.data[0].resourceId}_0_a.png`;\n      setCardImgSrc(imgUrl);\n      return imgUrl;\n    };\n\n    if (props.idol) {\n      getCardImg(props.idol.id).then((src) => {\n        const img = new Image();\n        img.src = src;\n        img.onload = () => setPreload(true);\n      });\n    }\n  }, [props.idol]);\n\n  return (\n    <div className=\"detail\">\n      <div className=\"container\">\n        {props.idol && preload ? (\n          <>\n            <img src={cardImgSrc} alt=\"\"></img>\n            <table className={props.idol.type.toLowerCase()}>\n              <tbody>\n                <tr>\n                  <th>名前</th>\n                  <td>{props.idol.name}</td>\n                </tr>\n                <tr>\n                  <th>分類</th>\n                  <td>{props.idol.group}</td>\n                </tr>\n                <tr>\n                  <th>属性</th>\n                  <td>{props.idol.type}</td>\n                </tr>\n                <tr>\n                  <th>年齢</th>\n                  <td>{props.idol.age}歳</td>\n                </tr>\n                <tr>\n                  <th>誕生日</th>\n                  <td>{props.idol.birth}</td>\n                </tr>\n                <tr>\n                  <th>血液型</th>\n                  <td>{props.idol.blood}</td>\n                </tr>\n                <tr>\n                  <th>身長</th>\n                  <td>{props.idol.height}cm</td>\n                </tr>\n                <tr>\n                  <th>体重</th>\n                  <td>{props.idol.weight}kg</td>\n                </tr>\n                <tr>\n                  <th>バスト</th>\n                  <td>{props.idol.bust}cm</td>\n                </tr>\n                <tr>\n                  <th>ウエスト</th>\n                  <td>{props.idol.waist}cm</td>\n                </tr>\n                <tr>\n                  <th>ヒップ</th>\n                  <td>{props.idol.hip}cm</td>\n                </tr>\n                <tr>\n                  <th>出身地</th>\n                  <td>{props.idol.country}</td>\n                </tr>\n                <tr>\n                  <th>趣味</th>\n                  <td>{props.idol.hobby}</td>\n                </tr>\n                <tr>\n                  <th>特技</th>\n                  <td>{props.idol.skill}</td>\n                </tr>\n                <tr>\n                  <th>好きなもの</th>\n                  <td>{props.idol.favorite}</td>\n                </tr>\n                <tr>\n                  <th>CV</th>\n                  <td>{props.idol.cv}</td>\n                </tr>\n              </tbody>\n            </table>\n            <div className=\"annotation\">\n              画像取得に<a href=\"https://www.matsurihi.me/\">matsurihi.me</a>\n              様のAPIを利用しています。\n            </div>\n          </>\n        ) : props.idol ? (\n          <div className=\"message\">読み込み中...</div>\n        ) : (\n          <div className=\"message\">←左の一覧からアイドルを選んでください</div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Detail;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./styles.scoped.scss\";\nimport Header from \"../Header\";\nimport Selecter from \"../Selecter\";\nimport Detail from \"../Detail\";\nimport { Idol } from \"../../models/idol\";\n\nfunction App() {\n  const [idols, setIdol] = useState<Idol[]>([]);\n  const [icons, setIcon] = useState<any>();\n  const [selectIdol, setSelectIdol] = useState<Idol>();\n\n  useEffect(() => {\n    const getIdolIcon = async () => {\n      const res = await axios.get(\"assets/icon.json\");\n      setIcon(res.data);\n    };\n\n    const getIdolData = async () => {\n      const res = await axios.get<Idol[]>(\"assets/idol.json\");\n      setIdol(res.data);\n    };\n\n    getIdolIcon();\n    getIdolData();\n  }, []);\n\n  const handleSelect = (index: number) => {\n    setSelectIdol(idols[index]);\n  };\n\n  return (\n    <div className=\"container\">\n      <Header />\n      <div className=\"main\">\n        <Selecter idols={idols} icons={icons} selectIdol={handleSelect} />\n        <Detail idol={selectIdol} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}