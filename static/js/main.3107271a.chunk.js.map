{"version":3,"sources":["components/Header/index.tsx","components/Selecter/index.tsx","app.config.ts","components/Detail/CardView/index.tsx","components/Detail/index.tsx","components/App/index.tsx","index.tsx"],"names":["Header","className","Selecter","props","useState","selectIdol","setSelectIdol","icons","idols","map","item","index","key","id","onClick","_","handleClick","src","name","alt","config","CardView","cardImages","setCardImages","selectImage","setSelectImage","isAwakened","setAwakened","preload","setPreload","useEffect","a","axios","get","res","images","data","card","normalSrc","resourceId","awakenedSrc","cardName","rarity","getCardImg","then","img","Image","onload","changeImage","step","next","length","icon","faAngleLeft","size","faAngleRight","Detail","idol","type","toLowerCase","group","age","birth","blood","height","weight","bust","waist","hip","country","hobby","skill","favorite","cv","href","App","setIdol","setIcon","getIdolIcon","getIdolData","ReactDOM","render","StrictMode","window","innerWidth","document","getElementById","vh","innerHeight","documentElement","style","setProperty","addEventListener"],"mappings":"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","file":"static/js/main.3107271a.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./styles.scoped.scss\";\n\nfunction Header() {\n  return (\n    <div className=\"header\">\n      <span className=\"title\">Nao</span>\n    </div>\n  );\n}\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport \"./styles.scoped.scss\";\nimport { Idol } from \"../../models/idol\";\n\ninterface Props {\n  idols: Idol[];\n  icons: any;\n  selectIdol: (index: number) => void;\n}\n\nfunction Selecter(props: Props) {\n  const [selectIdol, setSelectIdol] = useState(-1);\n\n  const handleClick = (index: number) => {\n    setSelectIdol(index);\n    props.selectIdol(index);\n  };\n\n  return (\n    <div className=\"selecter\">\n      <ul>\n        {props.icons &&\n          props.idols.map((item, index) => (\n            <li\n              className={\"idol\" + (selectIdol === index ? \" selected\" : \"\")}\n              key={item.id}\n              onClick={(_) => handleClick(index)}\n            >\n              <img\n                src={`data:image/png;base64,${props.icons[item.name]}`}\n                alt=\"\"\n                className=\"icon\"\n              ></img>\n              <div className=\"name\">{item.name}</div>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default Selecter;\n","export const config = {\n  matsurihimeCardApiUrl: \"https://api.matsurihi.me/mltd/v1/cards\",\n  matsurihimeCardSrcUrl: \"https://storage.matsurihi.me/mltd/card/\",\n};\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAngleLeft, faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./styles.scoped.scss\";\nimport { config } from \"../../../app.config\";\nimport { Card } from \"../../../models/card\";\n\ninterface Props {\n  id: number;\n}\n\ninterface CardImg {\n  normalSrc: string;\n  awakenedSrc: string;\n  cardName: string;\n  rarity: string;\n}\n\nfunction CardView(props: Props) {\n  const [cardImages, setCardImages] = useState<CardImg[]>([]);\n  const [selectImage, setSelectImage] = useState(0);\n  const [isAwakened, setAwakened] = useState(false);\n  const [preload, setPreload] = useState(false);\n\n  useEffect(() => {\n    // リセット\n    setPreload(false);\n    setSelectImage(0);\n    setAwakened(false);\n\n    const getCardImg = async (id: number) => {\n      const res = await axios.get<Card[]>(\n        `${config.matsurihimeCardApiUrl}?idolId=${id}`\n      );\n      const images = res.data.map(\n        (card): CardImg => ({\n          normalSrc: `${config.matsurihimeCardSrcUrl}${\n            card.resourceId\n          }_0_a.png`,\n          awakenedSrc: `${config.matsurihimeCardSrcUrl}${\n            card.resourceId\n          }_1_a.png`,\n          cardName: card.name,\n          rarity: [\"\", \"N\", \"R\", \"SR\", \"SSR\"][card.rarity],\n        })\n      );\n      setCardImages(images);\n      return images[0].normalSrc;\n    };\n\n    getCardImg(props.id).then((src) => {\n      const img = new Image();\n      img.src = src;\n      img.onload = () => setPreload(true);\n    });\n  }, [props.id]);\n\n  const changeImage = (step: number) => {\n    let next = selectImage + step;\n    if (next < 0) next = cardImages.length - 1;\n    if (next >= cardImages.length) next = 0;\n    setSelectImage(next);\n  };\n\n  return (\n    <div>\n      {preload ? (\n        <div className=\"view-area\">\n          <div className=\"button\" onClick={(_) => changeImage(-1)}>\n            <FontAwesomeIcon icon={faAngleLeft} size=\"lg\" />\n          </div>\n          <div className=\"card-view\">\n            <div className=\"card-name\">\n              {`[${cardImages[selectImage].rarity}] ${\n                cardImages[selectImage].cardName\n              }`}\n            </div>\n            <img\n              src={\n                isAwakened\n                  ? cardImages[selectImage].awakenedSrc\n                  : cardImages[selectImage].normalSrc\n              }\n              alt=\"\"\n              onClick={(_) => setAwakened(!isAwakened)}\n            />\n            <div className=\"card-msg\">\n              クリックで覚醒前/覚醒後を切り替えられます。\n            </div>\n          </div>\n          <div className=\"button\" onClick={(_) => changeImage(1)}>\n            <FontAwesomeIcon icon={faAngleRight} size=\"lg\" />\n          </div>\n        </div>\n      ) : (\n        <div className=\"message\">読み込み中...</div>\n      )}\n    </div>\n  );\n}\n\nexport default CardView;\n","import React from \"react\";\nimport \"./styles.scoped.scss\";\nimport { Idol } from \"../../models/idol\";\nimport CardView from \"./CardView\";\n\nfunction Detail(props: { idol: Idol | undefined }) {\n  return (\n    <div className=\"detail\">\n      <div className=\"container\">\n        {props.idol ? (\n          <>\n            <CardView id={props.idol.id} />\n            <table className={props.idol.type.toLowerCase()}>\n              <tbody>\n                <tr>\n                  <th>名前</th>\n                  <td>{props.idol.name}</td>\n                </tr>\n                <tr>\n                  <th>分類</th>\n                  <td>{props.idol.group}</td>\n                </tr>\n                <tr>\n                  <th>属性</th>\n                  <td>{props.idol.type}</td>\n                </tr>\n                <tr>\n                  <th>年齢</th>\n                  <td>{props.idol.age}歳</td>\n                </tr>\n                <tr>\n                  <th>誕生日</th>\n                  <td>{props.idol.birth}</td>\n                </tr>\n                <tr>\n                  <th>血液型</th>\n                  <td>{props.idol.blood}</td>\n                </tr>\n                <tr>\n                  <th>身長</th>\n                  <td>{props.idol.height}cm</td>\n                </tr>\n                <tr>\n                  <th>体重</th>\n                  <td>{props.idol.weight}kg</td>\n                </tr>\n                <tr>\n                  <th>バスト</th>\n                  <td>{props.idol.bust}cm</td>\n                </tr>\n                <tr>\n                  <th>ウエスト</th>\n                  <td>{props.idol.waist}cm</td>\n                </tr>\n                <tr>\n                  <th>ヒップ</th>\n                  <td>{props.idol.hip}cm</td>\n                </tr>\n                <tr>\n                  <th>出身地</th>\n                  <td>{props.idol.country}</td>\n                </tr>\n                <tr>\n                  <th>趣味</th>\n                  <td>{props.idol.hobby}</td>\n                </tr>\n                <tr>\n                  <th>特技</th>\n                  <td>{props.idol.skill}</td>\n                </tr>\n                <tr>\n                  <th>好きなもの</th>\n                  <td>{props.idol.favorite}</td>\n                </tr>\n                <tr>\n                  <th>CV</th>\n                  <td>{props.idol.cv}</td>\n                </tr>\n              </tbody>\n            </table>\n            <div className=\"annotation\">\n              画像取得に<a href=\"https://www.matsurihi.me/\">matsurihi.me</a>\n              様のAPIを利用しています。\n            </div>\n          </>\n        ) : (\n          <div className=\"message\">←左の一覧からアイドルを選んでください</div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default Detail;\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./styles.scoped.scss\";\nimport Header from \"../Header\";\nimport Selecter from \"../Selecter\";\nimport Detail from \"../Detail\";\nimport { Idol } from \"../../models/idol\";\n\nfunction App() {\n  const [idols, setIdol] = useState<Idol[]>([]);\n  const [icons, setIcon] = useState<any>();\n  const [selectIdol, setSelectIdol] = useState<Idol>();\n\n  useEffect(() => {\n    const getIdolIcon = async () => {\n      const res = await axios.get(\"assets/icon.json\");\n      setIcon(res.data);\n    };\n\n    const getIdolData = async () => {\n      const res = await axios.get<Idol[]>(\"assets/idol.json\");\n      setIdol(res.data);\n    };\n\n    getIdolIcon();\n    getIdolData();\n  }, []);\n\n  const handleSelect = (index: number) => {\n    setSelectIdol(idols[index]);\n  };\n\n  return (\n    <div className=\"container\">\n      <Header />\n      <div className=\"main\">\n        <Selecter idols={idols} icons={icons} selectIdol={handleSelect} />\n        <Detail idol={selectIdol} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    {window.innerWidth < 768 ? (\n      <div className=\"error-msg\">このサイトはPC/タブレット専用です</div>\n    ) : (\n      <App />\n    )}\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nwindow.onload = () => {\n  // 最初に、ビューポートの高さを取得し、0.01を掛けて1%の値を算出して、vh単位の値を取得\n  let vh = window.innerHeight * 0.01;\n  // カスタム変数--vhの値をドキュメントのルートに設定\n  document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n\n  window.addEventListener(\"resize\", () => {\n    let vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n  });\n};\n"],"sourceRoot":""}